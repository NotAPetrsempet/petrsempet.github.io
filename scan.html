<center>
	<style>
		hr{
			background-color: red;
			color: red;
			border: 1px solid red;
			position: absolute;
			animation: scan 3s infinite;
			width: 500px;
			z-index: 2;
			display: none;
		}
		@keyframes scan{
			from{
				top: 0px;
			}
			50%{
				top: 500px;
			}
			to{
				top: 0px;
			}
		}
		video, canvas{
			position: absolute;
			left: 0px;
			width: 500px;
			height: 500px;
			
		}
		video{
			z-index: 0;
		}
		canvas{
			z-index: 1;
		}
	</style>
	<hr id="line">
	<video id="stream"></video>
	<canvas id="c"></canvas><br>
	<button onclick="scan()">Сканировать</button>
	<h1 id="result"></h1>
</center>
<script>
	var valid = false;
	navigator.getUserMedia({video: true, audio: false}, function(s){stream.srcObject = s; stream.play();  valid = true;}, function(){alert('Не могу сканировать тебя!')});
	function scan()
	{
	c.width = stream.videoWidth;
		c.height = stream.videoHeight; 
		var cntx = c.getContext('2d');
		cntx.drawImage(stream, 0, 0, stream.videoWidth, stream.videoHeight);
		line.style.display = "block";
		var percent = Math.floor(Math.random() * (101 - 95)) + 95;
		setTimeout(function(){result.innerHTML = "Вы похожи на дебила!<br> Совпадение "+percent+'%'; line.style.display = "none";}, 3000);
	}
</script>
